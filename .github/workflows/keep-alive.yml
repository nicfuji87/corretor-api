name: Keep API Alive

on:
  schedule:
    # Executa a cada 14 minutos para evitar cold start
    - cron: '*/14 * * * *'
  workflow_dispatch: # Permite execuÃ§Ã£o manual

jobs:
  ping:
    runs-on: ubuntu-latest
    
    steps:
    - name: Ping API
      run: |
        echo "ğŸ“ Fazendo ping na API para mantÃª-la viva..."
        curl -f https://corretor-api.onrender.com/ping || echo "âŒ Ping falhou"
        echo "âœ… Ping concluÃ­do!"
        
    - name: Ping endpoint principal
      run: |
        echo "ğŸ“ Testando endpoint principal..."
        curl -f https://corretor-api.onrender.com/ || echo "âŒ Endpoint principal falhou"
        echo "âœ… Teste do endpoint principal concluÃ­do!" 
